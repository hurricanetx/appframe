!function(t){"use strict";t.CSS={cache:{},prefixes:["Webkit","Moz","O","ms",""]},t.CSS.getProperty=function(n){var e;if("undefined"!=typeof t.CSS.cache[n])return t.CSS.cache[n];e=document.createElement("div").style;for(var i=0;i<t.CSS.prefixes.length;++i)if(void 0!=e[t.CSS.prefixes[i]+n])return t.CSS.cache[n]=t.CSS.prefixes[i]+n},t.supports={transform:!!t.CSS.getProperty("Transform"),transform3d:!!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix)},t.supports.addClass=function(){t.each(arguments,function(){t("html").addClass((t.supports[this]?"":"no-")+this)})},t.translateX=function(n,e){var i=i=t.CSS.getProperty("Transform");return"number"==typeof e&&(e+="px"),t.supports.transform3d?n.style[i]="translate3d("+e+", 0, 0)":t.supports.transform?n.style[i]="translate("+e+", 0)":n.style.left=e}}(Zepto),function(t){"use strict";function n(n,s){this.input=t(n),this.container=this.input.wrap("<div>").parent(),this.container.addClass(h.name+" "+this.input[0].className),this.min=parseInt(this.input.attr("min"),10),this.max=parseInt(this.input.attr("max"),10),this.amount=this.max-this.min+1,this.current=parseInt(this.input.val(),10)-this.min,this.btn=t('<div class="btn">'),this.fill=t('<div class="fill">'),this.bar=t('<div class="bar">').append(this.btn,this.fill),this.container.append(this.bar),this.btn.size=this.btn.width(),this.size=this.input.width()-this.btn.size,this.gap=this.size/(this.amount-1),this.legend=e(s,this),this.container.append(this.legend),this.change(this.current),this.input.trigger("init",[this.current,this]),this.container.on(h.startGesture,i).on("tap",i)}function e(n,e){var i,s,r,a=e.amount-n.length,o=n.length-1,h=Math.floor(e.size/(e.amount-1));if(a)if(!n.length||a%o)n=new Array(e.amount);else for(s=new Array(a/o),s.unshift(null,0),r=1;r<e.amount;r+=s.length-1)s[0]=r,[].splice.apply(n,s);return i=t('<div class="legend" aria-hidden="true">'),i.append(t.map(n,function(n){return t('<div class="label">').text(void 0==n?"":n)})),i.children().width(h),i.find(":first-child, :last-child").width(h/2+e.btn.size/2),i}function i(){var n=t(this),e="."+h.name;n.on(h.startGesture,e+" .btn",function(t){function e(t){t.preventDefault(),a=s.pos()-o,a+=t.pageX||t.touches[0]&&t.touches[0].pageX||0,a=Math.max(0,Math.min(a,s.size)),s.move(a/s.gap)}function i(){n.off(h.moveGesture,e),n.off(h.stopGesture,i),s.moving(!1),s.change(a/s.gap)}var s=r(this),a=s&&s.pos(),o=t.pageX||t.touches[0]&&t.touches[0].pageX||0;s&&(s.moving(!0),n.bind(h.moveGesture,e),n.bind(h.stopGesture,i))}),n.on(h.tapGesture,e+" .label",function(){r(this).change(t(this).index())}),i=function(){}}function s(e,i){var s;t(e).closest("."+h.name).length||(s=new n(e,i),s.container.data(h.name+"-store",a.length),a.push(s))}function r(n){var e=t(n).closest("."+h.name);return a[e.data(h.name+"-store")]}var a=[],o=null===document.ontouchstart,h={name:"ui-range",tapGesture:o?"tap":"click",startGesture:o?"touchstart":"mousedown",moveGesture:o?"touchmove":"mousemove",stopGesture:o?"touchend touchcancel":"mouseup"};t.extend(n.prototype,{pos:function(){return this.current*this.gap},moving:function(t){return this.container.toggleClass("moving",t)},move:function(n){var e=n*this.gap;t.translateX(this.btn[0],e),this.fill.width(e),this.input.trigger("move",[n,this])},change:function(t){t=Math.round(t),this.move(t),this.current=t,this.input.val(this.current+this.min),this.input.trigger("change",[t,this])}}),t.fn.range=function(){var t;return t=Array.prototype.slice.call(arguments),this.each(function(){s(this,t)})}}(Zepto);