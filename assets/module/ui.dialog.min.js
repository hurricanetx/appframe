!function(t){function o(){return!1}function i(o){var i=this,s=t.extend({},n,"object"==typeof o&&o),a=!1;return t.isArray(this)&&this.length&&"script"==t(this)[0].nodeName.toLowerCase()?(i=t(t.tpl(this[0].innerHTML,s)).appendTo("body"),a=!0):t.isArray(this)&&this.length&&""==i.selector?(i=t(t.tpl(this[0].outerHTML,s)).appendTo("body"),a=!0):t.isArray(this)||(i=t(t.tpl(e,s)).appendTo("body"),a=!0),i.each(function(){var i=t(this),e=i.data("fz.dialog");e||i.data("fz.dialog",e=new l(this,t.extend({},n,"object"==typeof o&&o),a)),e.toggle()})}var e='<div class="ui-dialog"><div class="ui-dialog-cnt"><div class="ui-dialog-bd"><div><h4><%=title%></h4><div><%=content%></div></div></div><div class="ui-dialog-ft ui-btn-group"><% for (var i = 0; i < button.length; i++) { %><% if (i == select) { %><button type="button" data-role="button"  class="select" id="dialogButton<%=i%>"><%=button[i]%></button><% } else { %><button type="button" data-role="button" id="dialogButton<%=i%>"><%=button[i]%></div><% } %><% } %></div></div></div>',n={title:"",content:"",button:["чбошод"],select:0,allowScroll:!1,callback:function(){}},l=function(o,i,e){console.log(i),this.option=t.extend(n,i),this.element=t(o),this._isFromTpl=e,this.button=t(o).find('[data-role="button"]'),this._bindEvent()};l.prototype={_bindEvent:function(){var o=this;o.button.on("tap",function(){var i=t(o.button).index(t(this));o.option.callback("button",i),o.hide.apply(o)})},toggle:function(){this.element.hasClass("show")?this.hide():this.show()},show:function(){var t=this;t.option.callback("show"),t.element.addClass("show"),this.option.allowScroll&&t.element.on("touchmove",o)},hide:function(){var t=this;t.option.callback("hide"),t.element.off("touchmove",o),t.element.removeClass("show"),console.log(t._isFromTpl),t._isFromTpl&&t.element.remove()}},t.fn.dialog=t.dialog=i}(window.Zepto);