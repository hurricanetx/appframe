!function(e){e.litelighter=function(t,l){this.settings=e.extend({},{clone:!1,style:"light",language:"generic",tab:"    "},l),this.code=t,this.enable()},e.extend(e.litelighter.prototype,{enable:function(){this.codelite=this.code.data("llcode",this.code.text()),1==this.settings.clone&&(this.codelite=e("<pre />").text(this.code.text()).addClass("litelighter").insertAfter(this.code.css("display","none"))),this.code.data("lllanguage")&&(this.settings.language=this.code.data("lllanguage")),this.code.data("llstyle")&&(this.settings.style=this.code.data("llstyle"));var t=e.litelighter.styles[this.settings.style],l=e.litelighter.languages[this.settings.language],i=e.litelighter.highlight(this.codelite.html(),t,l).replace(/\t/g,this.settings.tab);return this.codelite.attr("style",t.code).html(i),this.code},disable:function(){return this.settings.clone?(this.codelite.remove(),this.code.css("display","block")):this.code.html("").text(this.code.data("llcode"))},destroy:function(){return this.disable(),this.code.removeData("litelighter")},option:function(e,t){return void 0!==t?(this.code.data("ll"+e,t),this.settings[e]=t,this.disable(),this.enable()):this[e]}}),e.litelighter.lookup={i:0},e.fn.litelighter=function(t){t=t||{};var l=Array.prototype.slice.call(arguments);return"string"==typeof t?this.each(function(){var i=e.litelighter.lookup[e(this).data("litelighter")];i[t].apply(i,l.slice(1))}):this.each(function(){var l=e(this);e.litelighter.lookup[++e.litelighter.lookup.i]=new e.litelighter(l,t),l.data("litelighter",e.litelighter.lookup.i)})},e.litelighter.highlight=function(t,l,i){var r=0,s=[];for(var n in i)i.hasOwnProperty(n)&&void 0!==i[n].language&&void 0!==e.litelighter.languages[i[n].language]&&(t=t.replace(i[n].re,function(t,g){return s[r++]=e.litelighter.highlight(g,l,e.litelighter.languages[i[n].language]),t.replace(g,"___subtmpl"+(r-1)+"___")}));for(var n in i)i.hasOwnProperty(n)&&void 0===i[n].language&&(t=t.replace(i[n].re,"___"+n+"___$1___end"+n+"___"));var g=[];t=t.replace(/___(?!subtmpl)\w+?___/g,function(t){var l="end"==t.substr(3,3)?!0:!1,r=(l?t.substr(6):t.substr(3)).replace(/_/g,""),s=g.length>0?g[g.length-1]:null;return!l&&(null==s||r==s||null!=s&&void 0!=i[s].embed&&e.inArray(r,i[s].embed)>=0)?(g.push(r),t):l&&r==s?(g.pop(),t):""});for(var n in i)i.hasOwnProperty(n)&&(t=t.replace(new RegExp("___end"+n+"___","g"),"</span>").replace(new RegExp("___"+n+"___","g"),"<span class='litelighterstyle' style='"+l[i[n].style]+"'>"));for(var n in i)i.hasOwnProperty(n)&&void 0!==i[n].language&&void 0!==e.litelighter.languages[i[n].language]&&(t=t.replace(/___subtmpl\d+___/g,function(e){var t=parseInt(e.replace(/___subtmpl(\d+)___/,"$1"),10);return s[t]}));return t},e.litelighter.styles={light:{code:"background-color:#ffffff;color:#555;",comment:"color:#999",string:"color:#8F9657",number:"color:#CF6745;",keyword:"color:#6F87A8;",operators:"color:#9e771e;"},dark:{code:"background-color:#141414;color:#ffffff;",comment:"color:#999",string:"color:#8F9657",number:"color:#CF6745;",keyword:"color:#6F87A8;",operators:"color:#fee79e;"}},e.litelighter.languages={generic:{comment:{re:/(\/\/.*|\/\*([\s\S]*?)\*\/)/g,style:"comment"},string:{re:/((\'.*?\')|(\".*?\"))/g,style:"string"},numbers:{re:/(\-?(\d+|\d+\.\d+|\.\d+))/g,style:"number"},regex:{re:/([^\/]\/[^\/].+\/(g|i|m)*)/g,style:"number"},keywords:{re:/(?:\b)(function|for|foreach|while|if|else|elseif|switch|break|as|return|this|class|self|default|var|false|true|null|undefined)(?:\b)/gi,style:"keyword"},operators:{re:/(\+|\-|\/|\*|\%|\=|\&lt;|\&gt;|\||\?|\.)/g,style:"operators"}}},e.litelighter.languages.js=e.litelighter.languages.generic,e.litelighter.languages.css={comment:e.litelighter.languages.generic.comment,string:e.litelighter.languages.generic.string,numbers:{re:/((\-?(\d+|\d+\.\d+|\.\d+)(\%|px|em|pt|in)?)|\#[0-9a-fA-F]{3}[0-9a-fA-F]{3})/g,style:"number"},keywords:{re:/(\@\w+|\:?\:\w+|[a-z\-]+\:)/g,style:"keyword"}},e.litelighter.languages.html={comment:{re:/(\&lt\;\!\-\-([\s\S]*?)\-\-\&gt\;)/g,style:"comment"},tag:{re:/(\&lt\;\/?\w(.|\n)*?\/?\&gt\;)/g,style:"keyword",embed:["string"]},string:e.litelighter.languages.generic.string,css:{re:/(?:\&lt;style.*?\&gt;)([\s\S]+?)(?:\&lt;\/style\&gt;)/gi,language:"css"},script:{re:/(?:\&lt;script.*?\&gt;)([\s\S]+?)(?:\&lt;\/script\&gt;)/gi,language:"js"}}}(window.jQuery||window.Zepto||window.$);