<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport" content="width=device-width,user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <title>uikit-module-parallax-code</title>
    <link rel="stylesheet" type="text/css" href="../assets/css/zen.min.css">
    <link rel="stylesheet" type="text/css" href="assets/uikit.css">
    <script src="../assets/vector/zepto.min.js"></script>
    <script src="../assets/vector/zen.min.js"></script>
</head>
<body class="ui-tapcopy">
    <div class="ui-page-navbar ui-hide">
        <div class="ui-page-inner">
            <span class="ui-navbar-left ui-operate">
                <a href="module-parallax.html">
                    <i class="icon icon-back"></i>
                    <span>Parallax</span>
                </a>
            </span>
            <span class="ui-navbar-center ui-navbar-text">视差动画Code</span>
        </div>
    </div>

    <h3 class="ui-block-title">视差动画(Parallax) 代码说明</h3>
    <div class="ui-panel ui-border-tb">Parallax 滚动视差动画组件，提供基础滑动、事件回调及内置动画支持。</div>
    <h3 class="ui-block-title">一、使用方式</h3>
    <div class="ui-panel ui-border-tb">
        <p>本组件需要引入css 和 js 组件</p>
        <br/><h4>1、HTML</h4>
        <pre class="ui-panel-code"><code class="xml"><span class="comment">&lt;!-- 这里的每个标签和每个类都是必须的 --&gt;</span>
<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"wrapper"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"pages"</span>&gt;</span>

        <span class="comment">&lt;!-- 第一屏 --&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"page"</span>&gt;</span>
               <span class="comment">&lt;!-- anything you want.... --&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>

        <span class="comment">&lt;!-- 第二屏 --&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"page"</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>

        <span class="comment">&lt;!-- 第三屏 --&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"page"</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>

        ...

    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span></code></pre>
                    <br/>
                    <h4>2、CSS 引用：</h4>
                    <pre class="ui-panel-code"><code class="xml"><span class="tag">&lt;<span class="title">style</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"{your path}/parallax.min.css"</span>&gt;</span><span class="css"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>

/* 如果需要使用内置动画，需要引用下面的内容 */
<span class="tag">&lt;<span class="title">style</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"{your path}/parallax-animation.min.css"</span>&gt;</span><span class="css"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></code></pre>
                    <br/><h4>3、JS 引用：</h4>
                    <pre class="ui-panel-code"><code class="javascript">&lt;script src=<span class="string">"{your path}/zepto.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"{your path}/parallax.min.js"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">
  $(<span class="string">'.pages'</span>).parallax();
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></code></pre>
                </div>
                
                <h3 class="ui-block-title">二、定制</h3>
                <pre class="ui-module-code ui-border-tb ui-panel-code"><code class="javascript">&lt;script&gt;

<span class="comment">// 下面的都是默认属性</span>
$(<span class="string">'.pages'</span>).parallax({
    direction: <span class="string">'vertical'</span>,     <span class="comment">// horizontal (水平翻页)</span>
    swipeAnim: <span class="string">'default'</span>,     <span class="comment">// cover (切换效果)</span>
    drag:      <span class="literal">true</span>,        <span class="comment">// 是否允许拖拽 (若 false 则只有在 touchend 之后才会翻页)</span>
    loading:   <span class="literal">false</span>,        <span class="comment">// 有无加载页</span>
    indicator: <span class="literal">false</span>,        <span class="comment">// 有无指示点</span>
    arrow:     <span class="literal">false</span>,        <span class="comment">// 有无指示箭头</span>
    <span class="comment">/*
     * 翻页后立即执行
     * {int}         index: 第几页
     * {DOMElement} element: 当前页节点
     * {String}        directation: forward(前翻)、backward(后翻)、stay(保持原页)
     */</span>
    onchange: <span class="keyword">function</span>(index, element, direction) {
        <span class="comment">// code here...</span>
    },
    <span class="comment">/*
     * 横竖屏检测
     * {String}        orientation: landscape / protrait
     */</span>
    orientationchange: <span class="keyword">function</span>(orientation) {
        <span class="comment">// code here...    </span>
    }
});

<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></code></pre>
                <h3 class="ui-block-title">具体参数演示</h3>
                <pre class="ui-module-code ui-border-tb ui-panel-code"><code class="javascript"><span class="comment">// DEMO1(默认)</span>
&lt;script&gt;
$(<span class="string">'.pages'</span>).parallax({
    loading:   <span class="literal">false</span>,
    indicator: <span class="literal">false</span>,
    arrow:     <span class="literal">false</span>
});
<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

// DEMO2
<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">
$(<span class="string">'.pages'</span>).parallax({
    loading:   <span class="literal">true</span>,
    indicator: <span class="literal">true</span>,
    arrow:     <span class="literal">true</span>
});
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

// DEMO3
<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">
$(<span class="string">'.pages'</span>).parallax({
    direction: <span class="string">'horizontal'</span>,
    loading:   <span class="literal">true</span>,
    indicator: <span class="literal">true</span>,
    arrow:     <span class="literal">true</span>
});
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span>

<span class="comment">// DEMO4(默认)</span>
<span class="tag">&lt;<span class="title">script</span>&gt;</span>
$(<span class="string">'.pages'</span>).parallax({
    swipeAnim: <span class="string">'default'</span>
});
<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span>

// DEMO5
<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">
$(<span class="string">'.pages'</span>).parallax({
    swipeAnim: <span class="string">'cover'</span>
});
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></code></pre>
                
                <h3 class="ui-block-title">三、DOM 接口</h3>
                <pre class="ui-module-code ui-border-tb ui-panel-code"><code class="xml"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"wrapper"</span>&gt;</span>

    <span class="comment">&lt;!-- 初始化后自动添加 direction、swipeAnim、direction 类，其中 direction 在翻页的过程中才会添加。 --&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"pages vertical/horizontal  default/cover  forward/backward"</span>&gt;</span>

        <span class="comment">&lt;!-- 为 page 添加 data-id，当前 page 会自动添加 current 类(翻页后立即添加) --&gt;</span>
        <span class="tag">&lt;<span class="title">section</span> <span class="attribute">data-id</span>=<span class="value">"1"</span> <span class="attribute">class</span>=<span class="value">"current"</span>&gt;</span>
            ...
        <span class="tag">&lt;/<span class="title">section</span>&gt;</span>

        <span class="tag">&lt;<span class="title">section</span> <span class="attribute">data-id</span>=<span class="value">"2"</span>&gt;</span>
            ...
        <span class="tag">&lt;/<span class="title">section</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span></code></pre>
                <h3 class="ui-block-title">四、内置动画</h3>
                <div class="ui-panel ui-border-tb">
                    <p>有四种内置动画，分别是 <code>slideToTop/Bottom/Left/Right</code>、 <code>fadeInToTop/Bottom/Left/Right</code>、 <code>followSlide</code> 和 <code>fadeIn/Out</code>，动画参数可通过 <code>data-animation</code>、 <code>data-duration</code>、 <code>data-delay</code> 和 <code>data-timing-function</code> 进行配置。</p>
                    <strong>即本案例演示的样子：</strong>
                    <pre class="ui-panel-code"><code class="xml"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"wrapper"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"pages"</span>&gt;</span>

        <span class="comment">&lt;!-- 第一屏 --&gt;</span>
        <span class="tag">&lt;<span class="title">section</span> <span class="attribute">class</span>=<span class="value">"page"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box1"</span> <span class="attribute">data-animation</span>=<span class="value">"slideToBottom"</span> <span class="attribute">data-timing-function</span>=<span class="value">"ease-in"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box2"</span> <span class="attribute">data-animation</span>=<span class="value">"slideToTop"</span> <span class="attribute">data-delay</span>=<span class="value">"300"</span> <span class="attribute">data-timing-function</span>=<span class="value">"ease-out"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box3"</span> <span class="attribute">data-animation</span>=<span class="value">"slideToRight"</span> <span class="attribute">data-delay</span>=<span class="value">"600"</span> <span class="attribute">data-timing-function</span>=<span class="value">"linear"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box4"</span> <span class="attribute">data-animation</span>=<span class="value">"slideToLeft"</span> <span class="attribute">data-delay</span>=<span class="value">"900"</span> <span class="attribute">data-timing-function</span>=<span class="value">"cubic-bezier(.12,.73,.62,1.38)"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">section</span>&gt;</span>

        <span class="comment">&lt;!-- 第二屏 --&gt;</span>
        <span class="tag">&lt;<span class="title">section</span> <span class="attribute">class</span>=<span class="value">"page"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box1"</span> <span class="attribute">data-animation</span>=<span class="value">"followSlide"</span> <span class="attribute">data-duration</span>=<span class="value">"1000"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box2"</span> <span class="attribute">data-animation</span>=<span class="value">"followSlide"</span> <span class="attribute">data-delay</span>=<span class="value">"200"</span> <span class="attribute">data-duration</span>=<span class="value">"1000"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box3"</span> <span class="attribute">data-animation</span>=<span class="value">"followSlide"</span> <span class="attribute">data-delay</span>=<span class="value">"400"</span> <span class="attribute">data-duration</span>=<span class="value">"1000"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box4"</span> <span class="attribute">data-animation</span>=<span class="value">"followSlide"</span> <span class="attribute">data-delay</span>=<span class="value">"600"</span> <span class="attribute">data-duration</span>=<span class="value">"1000"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">section</span>&gt;</span>

        <span class="comment">&lt;!-- 第三屏 --&gt;</span>
        <span class="tag">&lt;<span class="title">section</span> <span class="attribute">class</span>=<span class="value">"page"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box1"</span> <span class="attribute">data-animation</span>=<span class="value">"fadeInToBottom"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box2"</span> <span class="attribute">data-animation</span>=<span class="value">"fadeInToTop"</span> <span class="attribute">data-delay</span>=<span class="value">"200"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box3"</span> <span class="attribute">data-animation</span>=<span class="value">"fadeInToLeft"</span> <span class="attribute">data-delay</span>=<span class="value">"400"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box4"</span> <span class="attribute">data-animation</span>=<span class="value">"fadeInToRight"</span> <span class="attribute">data-delay</span>=<span class="value">"600"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">section</span>&gt;</span>

        <span class="comment">&lt;!-- 第四屏 --&gt;</span>
        <span class="tag">&lt;<span class="title">section</span> <span class="attribute">class</span>=<span class="value">"page"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box1"</span> <span class="attribute">data-animation</span>=<span class="value">"fadeIn"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"box2"</span> <span class="attribute">data-animation</span>=<span class="value">"fadeOut"</span> <span class="attribute">data-delay</span>=<span class="value">"800"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">section</span>&gt;</span>

    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span></code></pre>
                    <br/>
                    <h4>CSS：</h4>
                    <pre class="ui-panel-code"><code class="css"><span class="comment">/* custom */</span>
<span class="tag">section</span><span class="attr_selector">[data-id="1"]</span> <span class="rules">{
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#3498db</span>;</span></span>
<span class="rule">}</span></span>
<span class="tag">section</span><span class="attr_selector">[data-id="2"]</span> <span class="rules">{
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#40d47e</span>;</span></span>
<span class="rule">}</span></span>
<span class="tag">section</span><span class="attr_selector">[data-id="3"]</span> <span class="rules">{
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#ff8c81</span>;</span></span>
<span class="rule">}</span></span>
<span class="tag">section</span><span class="attr_selector">[data-id="4"]</span> <span class="rules">{
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#3498db</span>;</span></span>
<span class="rule">}</span></span>
<span class="class">.box1</span> <span class="rules">{
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>px;</span></span>
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">200</span>px;</span></span>
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#ecf0f1</span>;</span></span>
    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute;</span></span>
    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">160</span>px;</span></span> <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">126</span>px;</span></span>
<span class="rule">}</span></span>
<span class="class">.box2</span> <span class="rules">{
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">200</span>px;</span></span>
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100</span>px;</span></span>
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#8e44ad</span>;</span></span>
    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute;</span></span>
    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">60</span>px;</span></span> <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">226</span>px;</span></span>
<span class="rule">}</span></span>
<span class="class">.box3</span> <span class="rules">{
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>px;</span></span>
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100</span>px;</span></span>
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#34495e</span>;</span></span>
    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute;</span></span>
    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">160</span>px;</span></span> <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">226</span>px;</span></span>
<span class="rule">}</span></span>
<span class="class">.box4</span> <span class="rules">{
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">50</span>px;</span></span>
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">50</span>px;</span></span>
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#e74c3c</span>;</span></span>
    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute;</span></span>
    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">185</span>px;</span></span> <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">250</span>px;</span></span>
<span class="rule">}</span></span></code></pre>
                    <p>注：followSlide 效果会根据翻页方向的不同而改变，如下：</p><br/>
    </div>
    <script type="text/javascript" src="../assets/module/ui.autoapp.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
        $("body").autoapp();
    });
    </script>  
</body>
</html>