<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport" content="width=device-width,user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <title>uikit-module-dialog</title>
    <link rel="stylesheet" type="text/css" href="../assets/css/zen.min.css">
    <link rel="stylesheet" type="text/css" href="assets/uikit.css">
    <script src="../assets/vector/zepto.min.js"></script>
    <script src="../assets/vector/zen.min.js"></script>
</head>
<body class="ui-tapcopy">

        <div class="ui-page-navbar ui-hide">
            <div class="ui-page-inner">
                <span class="ui-navbar-left ui-operate">
                    <a href="uikit.html">
                        <i class="icon icon-back"></i>
                        <span>UIKit</span>
                    </a>
                </span>
                <span class="ui-navbar-center ui-navbar-text">组件库 - 对话框(dialog)</span>
            </div>
        </div>

                <h3 class="ui-block-title">调用方式</h3>
                <div class="ui-panel ui-border-tb">dialog支持三种不同的调用方式，一般使用$.dialog(options)即可，不同的方式配置options后都会直接toggle弹窗。</div>
                <pre class="ui-module-code ui-border-tb"><code class="javascript"><span class="comment">//最简单的方式，组件会根据默认模板输出dom结构</span>
$.dialog(options);

<span class="comment">//通过传入模板字符串的方式</span>
$(<span class="string">'&lt;div&gt;&lt;%=title%&gt;&lt;&lt;/div&gt;'</span>).dialog(options);

<span class="comment">//通过传入css选择器的方式</span>
$(<span class="string">"#id"</span>).dialog(options);</code></pre>
                <h3 class="ui-block-title">配置说明</h3>
                <div class="ui-panel-wrap">
                    <table class="ui-table ui-border-t">
                        <tbody><tr>
                            <th>name</th>
                            <th>type</th>
                            <th>default</th>
                            <th>description</th>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>string</td>
                            <td>''</td>
                            <td>浮层标题，用来填充模板</td>
                        </tr>
                        <tr>
                            <td>content</td>
                            <td>string</td>
                            <td>''</td>
                            <td>浮层内容，用来填充模板</td>
                        </tr>
                        <tr>
                            <td>button</td>
                            <td>array</td>
                            <td>['确认']</td>
                            <td>浮层底部按钮的文字数组，建议不超过两个，与callback的index相互对应</td>
                        </tr>
                        <tr>
                            <td>select</td>
                            <td>int</td>
                            <td>0</td>
                            <td>需要高亮的按钮索引（与button相互对应），高亮的按钮会添加类名<code>select</code></td>
                        </tr>
                        <tr>
                            <td>allowScroll</td>
                            <td>bool</td>
                            <td>false</td>
                            <td>弹窗弹出后是否允许页面滚动</td>
                        </tr>
                        <tr>
                            <td>callback</td>
                            <td>funtion</td>
                            <td>function(){}</td>
                            <td>点击底部按钮后的回调函数，可以通过函数的第一个参数来获取点击的按钮索引（与button对应）</td>
                        </tr>
                        <tr>
                            <td>animation</td>
                            <td>string</td>
                            <td>'pop'</td>
                            <td>弹窗弹出的动画类名，会自动为弹窗外层加上该类名</td>
                        </tr>
                        <tr>
                            <td>end</td>
                            <td>function</td>
                            <td>function(){}</td>
                            <td>弹窗弹出后或者消失后的回调，可以通过函数第一个参数来获取状态（'show'为弹出后，'hide'为消失后）</td>
                        </tr>


                    </tbody></table>
                </div>
                <h3 class="ui-block-title">模板规则</h3>
                <div class="ui-panel ui-border-tb">
                    <ol>
                    <li>模板弹出时自动为顶级加上<code>show</code>类名，隐藏时自动去掉<code>show</code>，所以一般需要通过<code>show</code>类名来控制模板的显示隐藏。</li>
                    <li>模板约定底部按钮的标签必须设置属性<code>data-role='button'</code></li>
                    <li>模板约定需要触发关闭的按钮或元素必须设置属性<code>data-role='dismiss'</code></li>
                    <li>建议使用默认模板</li>
                    </ol>
                </div>
                <h3 class="ui-block-title">DEMO演示</h3>
                <div class="ui-panel ui-panel-re ui-center">
                    <button class="ui-btn" id="btn1">模板创建弹窗</button>
                    <button class="ui-btn" id="btn2">DOM创建弹窗</button>
                </div>
                <div class="ui-dialog">
                    <div class="ui-dialog-cnt">
                        <div class="ui-dialog-bd">
                            <div>
                            <h4>标题</h4>
                            <div>内容</div></div>
                        </div>
                        <div class="ui-dialog-ft ui-btn-group">
                            <button type="button" data-role="button" class="select" id="dialogButton&lt;%=i%&gt;">关闭</button> 
                        </div>
                    </div>        
                </div>
                <pre class="ui-module-code ui-border-tb"><code class="xml"> <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"ui-center"</span>&gt;</span>

    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"ui-btn"</span> <span class="attribute">id</span>=<span class="value">"btn1"</span>&gt;</span>模板创建弹窗<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"ui-btn"</span> <span class="attribute">id</span>=<span class="value">"btn2"</span>&gt;</span>DOM创建弹窗<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"ui-dialog"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"ui-dialog-cnt"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"ui-dialog-bd"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">h4</span>&gt;</span>标题<span class="tag">&lt;/<span class="title">h4</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span>&gt;</span>内容<span class="tag">&lt;/<span class="title">div</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"ui-dialog-ft ui-btn-group"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">button</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">data-role</span>=<span class="value">"button"</span>  <span class="attribute">class</span>=<span class="value">"select"</span> <span class="attribute">id</span>=<span class="value">"dialogButton&lt;%=i%&gt;"</span>&gt;</span>关闭<span class="tag">&lt;/<span class="title">button</span>&gt;</span> 
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>        
<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript">
$(<span class="string">"#btn1"</span>).tap(<span class="keyword">function</span>(){
    $.dialog({
        title:<span class="string">'温馨提示'</span>,
        content:<span class="string">'温馨提示内容'</span>,
        button:[<span class="string">"确认"</span>,<span class="string">"取消"</span>],
        callback:<span class="keyword">function</span>(type,index){
            console.log(<span class="string">"type:"</span>+type+<span class="string">";index:"</span>+index);
        }
    })

})
$(<span class="string">"#btn2"</span>).tap(<span class="keyword">function</span>(){
    $(<span class="string">".ui-dialog"</span>).dialog();

})

</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></code></pre>


    <script type="text/javascript" src="../assets/module/ui.autoapp.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
        $("body").autoapp();
        $("#btn1").tap(function(){
            $.dialog({
                title:'温馨提示',
                content:'温馨提示内容',
                button:["确认","取消"],
                callback:function(type,index){
                    console.log("type:"+type+";index:"+index);
                }
            })

        })
        $("#btn2").tap(function(){
            $(".ui-dialog").dialog();

        })
    });
    </script>
</body>
</html>