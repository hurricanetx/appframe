<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport" content="width=device-width,user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <title>uikit-module-cover</title>
    <link rel="stylesheet" type="text/css" href="../assets/css/zen.min.css">
    <link rel="stylesheet" type="text/css" href="assets/uikit.css">
    <script src="../assets/vector/zepto.min.js"></script>
    <script src="../assets/vector/zen.min.js"></script>
</head>
<body class="ui-tapcopy">

  <div class="ui-page-navbar ui-hide">
      <div class="ui-page-inner">
          <span class="ui-navbar-left ui-operate">
              <a href="uikit.html">
                  <i class="icon icon-back"></i>
                  <span>UIKit</span>
              </a>
          </span>
          <span class="ui-navbar-center ui-navbar-text">封面动画(Cover)</span>
          <span class="ui-navbar-right ui-operate-icon">
              <a href="module-cover-code.html">
                  <i class="icon icon-bars"></i>
              </a>
          </span>
      </div>
  </div>
  <!-- CSS -->
   <style type="text/css">
   .ui-frozen-cover{overflow: hidden;position: absolute;top:0px;left:0px;width: 100%;height:100%;}
   .item{width:100%;height:25%;display: -webkit-box;-webkit-box-pack:center; -webkit-box-align:center}
   .close{position:fixed;top:10px;right:10px;display: block;width:50px;height:50px;color:#fff;border:#fff 1px solid; text-align: center;border-radius: 50px;line-height: 50px;display: none;z-index: 2000}
   .title{color:#fff;display: block;text-align: center;font-size: 24px;-webkit-transition:all .5s .3s;}
   .info{color:#fff;display: block;text-align: center;font-size: 12px;-webkit-transition:all .5s;top:50%;width:100%;top:50%;position: absolute;z-index: 2000;opacity: 0;-webkit-transform:translateY(50px);}
   .info.show{opacity: 1;-webkit-transform:translateY(0);}
   </style>

   <!-- HTML -->
   <div class="ui-frozen-cover" id="cover" data-start-pos="source" data-trigger=".item" data-dismiss=".close">
       <div class="close">关闭</div>
       <div class="item" style="background:#35a;" data-background="#35a">
           <div class="title">网页重构</div>
       </div>
       <div class="item" style="background:#880;" data-background="#880">
           <div class="title">前端开发</div>
       </div>
       <div class="item" style="background:#4a3;" data-background="#4a3">
           <div class="title">交互设计</div>
       </div>
       <div class="item" style="background:#099;" data-background="#099">
           <div class="title">视觉设计</div>
    </div>
   <div style="position: absolute; top: 0px; left: 0px; width: 100px; height: 100px; z-index: -1; -webkit-transform: scale(0);"></div></div>
   <div class="text">
       <div class="info">
           <p>全球最牛网页重构</p>
       </div>
       <div class="info">
           <p>全球最牛前端开发</p>
       </div>
       <div class="info">
           <p>全球最牛交互设计</p>
       </div>
       <div class="info">
           <p>全球最牛视觉设计</p>
       </div>
   </div>

    <script type="text/javascript" src="../assets/module/effect.cover.min.js"></script>
    <script type="text/javascript" src="../assets/module/ui.autoapp.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
        $("body").autoapp();
        $(".ui-frozen-cover").cover({
           callback:function(type,obj){
               switch(type){
                   case "show":
                   covershow(obj);
                   break;
                   case "hide":
                   coverhide(obj);
                   break;
                   case "hidden":
                   coverhidden(obj);
                   break;
                   case "shown":
                   covershown(obj);
                   break;
               }

           }
        });
        function covershow(cover){
           if(!cover._isShown){
               var title=cover.currentTrigger.find('.title'),
                   index=$(".item").index(cover.currentTrigger);

               title.css({
                   '-webkit-transform':'translateY('+(cover.position.screenHeight/2-title.offset().top-30)+'px)'
               });
               $('.info').eq(index).css({
                   "-webkit-transition-delay":".5s"
               })
               $('.info').eq(index).addClass('show');
           }
        };
        function coverhide(cover){
           var title=cover.currentTrigger.find('.title'),
               index=$(".item").index(cover.currentTrigger);

           title.css({
               '-webkit-transform':'translateY(0px)'
           })
           $('.info').eq(index).css({
                   "-webkit-transition-delay":"0s"
               })
           $('.info').eq(index).removeClass('show');
        };
        function covershown(cover){
           $('.close').show();
        };
        function coverhidden(){
           $('.close').hide();
        };
      });
     </script>
</body>
</html>